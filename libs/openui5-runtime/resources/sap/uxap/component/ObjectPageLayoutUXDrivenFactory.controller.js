/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/layout/GridData","sap/ui/model/BindingMode","sap/uxap/BlockBase","sap/uxap/ModelMapping","sap/ui/model/Context","sap/ui/base/ManagedObject","sap/ui/core/mvc/Controller"],function(G,B,a,M,C,b,c){"use strict";return c.extend("sap.uxap.component.ObjectPageLayoutUXDrivenFactory",{connectToComponent:function(m){var h=jQuery.isEmptyObject(m.getData());m.setDefaultBindingMode(B.OneWay);var H=jQuery.proxy(function(){if(h){m.detachRequestCompleted(H);}var o=new C(m,"/headerTitle"),O=this.getView().byId("ObjectPageLayout");if(o.getProperty("")){try{this._oHeader=this.controlFactory(O.getId(),o);O.setHeaderTitle(this._oHeader);}catch(e){jQuery.sap.log.error("ObjectPageLayoutFactory :: error in header creation from config: "+e);}}},this);if(h){m.attachRequestCompleted(H);}else{H();}},controlFactory:function(p,o){var d=o.getProperty(""),e,f,g;try{jQuery.sap.require(d.Type);f=jQuery.sap.getObject(d.Type);g=f.getMetadata();jQuery.each(g._mAllEvents,jQuery.proxy(function(s,h){if(typeof d[s]=="string"){d[s]=this.convertEventHandler(d[s]);}},this));e=b.create(d);jQuery.each(g._mAllProperties,jQuery.proxy(function(P,h){if(d[P]){e.bindProperty(P,"objectPageLayoutMetadata>"+o.getPath()+"/"+P);}},this));}catch(E){jQuery.sap.log.error("ObjectPageLayoutFactory :: error in control creation from config: "+E);}return e;},convertEventHandler:function(s){var n=window,N=s.split('.');try{jQuery.each(N,function(i,d){n=n[d];});}catch(e){jQuery.sap.log.error("ObjectPageLayoutFactory :: undefined event handler: "+s+". Did you forget to require its static class?");n=undefined;}return n;}});},true);
