/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['./TextFieldRenderer','sap/ui/core/Renderer','sap/ui/core/library'],function(T,R,c){"use strict";var V=c.ValueState;var C=R.extend(T);C.renderOuterAttributes=function(r,o){r.addClass("sapUiTfCombo");this.renderComboARIAInfo(r,o);};C.renderOuterContentBefore=function(r,o){this.renderExpander(r,o);this.renderSelectBox(r,o,'-1');};C.renderExpander=function(r,o){r.write("<div");r.writeAttributeEscaped('id',o.getId()+'-icon');r.writeAttribute('unselectable','on');if(sap.ui.getCore().getConfiguration().getAccessibility()){r.writeAttribute("role","presentation");}r.addClass("sapUiTfComboIcon");r.writeClasses();r.write(">&#9660;</div>");};C.renderSelectBox=function(r,o,t){if(o.mobile){r.write("<select");r.writeAttributeEscaped('id',o.getId()+'-select');r.writeAttribute('tabindex',t);if(!o.getEnabled()||!o.getEditable()){r.writeAttribute('disabled','disabled');}r.write(">");for(var i=0;i<o.getItems().length;i++){var I=o.getItems()[i];r.write("<option");r.writeAttributeEscaped('id',o.getId()+"-"+I.getId());if(!I.getEnabled()){r.writeAttribute("disabled","disabled");}r.write(">");r.writeEscaped(I.getText());r.write("</option>");}r.write("</select>");}};C.renderOuterContent=function(r,o){if(o.getDisplaySecondaryValues()){r.write("<span id=\""+o.getId()+"-SecVal\" style=\"display: none;\"></span>");}};C.renderInnerAttributes=function(r,o){if(o.mobile){r.writeAttribute('autocapitalize','off');r.writeAttribute('autocorrect','off');}};C.renderComboARIAInfo=function(r,o){var l=o.getListBox();if(!l&&o._oListBox){l=o._oListBox.getId();}var p={role:"combobox",owns:o.getId()+"-input "+l};if(!o.getEnabled()){p["disabled"]=true;}r.writeAccessibilityState(null,p);};C.renderARIAInfo=function(r,o){var p=-1;if(o.getSelectedItemId()){for(var i=0;i<o.getItems().length;i++){var I=o.getItems()[i];if(I.getId()==o.getSelectedItemId()){p=i+1;break;}}}var P={autocomplete:"inline",live:"polite",setsize:o.getItems().length,posinset:(p>=0)?p:undefined};if(o.getValueState()==V.Error){P["invalid"]=true;}if(o.getDisplaySecondaryValues()){P["describedby"]={value:o.getId()+"-SecVal",append:true};}r.writeAccessibilityState(o,P);};C.setEditable=function(o,e){if(o.mobile){var s=o.$("select");if(e&&o.getEnabled()){s.removeAttr("disabled");}else{s.attr("disabled","disabled");}}T.setEditable.apply(this,arguments);};C.setEnabled=function(o,e){if(o.mobile){var s=o.$("select");if(e&&o.getEditable()){s.removeAttr("disabled");}else{s.attr("disabled","disabled");}}T.setEnabled.apply(this,arguments);};return C;},true);
