/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/test/selectors/_Selector","sap/ui/thirdparty/jquery","sap/ui/model/resource/ResourceModel","sap/m/ListBase","sap/m/ListItemBase"],function(_,$,R,L,a){"use strict";var b=_.extend("sap.ui.test.selectors._BindingPath",{_generate:function(c){return Object.keys(c.mBindingInfos).map(function(p){return this._getBindingSelector(c,p);}.bind(this));},_getBindingSelector:function(c,p){var B=this._getBinding(c,p);if(B){return B.map(function(m){if(m.model.type===R.getMetadata().getName()){this._oLogger.debug("Control "+c+" property "+p+" has i18n binding for model "+m.model.name+" with key "+m.path);return{i18NText:{propertyName:p,key:m.path,modelName:m.model.name}};}else{this._oLogger.debug("Control "+c+" property "+p+" has data binding for model "+m.model.name+" with context "+m.contextPath+" and path "+m.path);return{bindingPath:{path:m.contextPath,propertyPath:m.path,modelName:m.model.name}};}}.bind(this));}else{this._oLogger.debug("Control "+c+" does not have data binding for property "+p);return[];}},_getBinding:function(c,p){var B=c.getBinding(p);var o=c.getBindingInfo(p);if(B){if(B.getBindings){this._oLogger.debug("Control "+c+" has composite binding for property "+p);return B.getBindings().map(function(B,i){return this._mapBindingData(B,o.parts[i]);}.bind(this));}else{this._oLogger.debug("Control "+c+" has simple binding for property "+p);return[this._mapBindingData(B,o.parts?o.parts[0]:o)];}}},_mapBindingData:function(B,o){var m=B.getModel();var c=B.getContext();return{path:B.getPath(),contextPath:c?c.getPath():"",model:{name:o.model||undefined,type:m.getMetadata().getName(),data:m.getData?m.getData():undefined}};}});return b;});
