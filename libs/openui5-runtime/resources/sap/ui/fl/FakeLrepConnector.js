/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["jquery.sap.global","sap/ui/thirdparty/URI","sap/ui/fl/Utils","sap/ui/fl/LrepConnector","sap/ui/fl/Cache"],function(q,u,F,L,C){"use strict";var l=Object.create(L.prototype);var i;function a(I){this.sInitialComponentJsonPath=I;}for(var p in l){if(typeof l[p]==='function'){a.prototype[p]=(function(p){return function(){throw new Error('Method '+p+'() is not implemented in FakeLrepConnector.');};}(p));}}a.prototype.loadChanges=function(c){var d=this.sInitialComponentJsonPath;return new Promise(function(r,e){q.getJSON(d).done(function(R){var f={changes:R,componentClassName:c};r(f);}).fail(function(f){e(f);});});};a.prototype.create=function(c,d,e){if(!e){return Promise.resolve();}if(!c.creation){c.creation=new Date().toISOString();}return Promise.resolve({response:c,status:'success'});};a.prototype.update=function(c,d,e,f){if(!f){return Promise.resolve();}return Promise.resolve({response:c,status:'success'});};a.prototype.deleteChange=function(c,d){if(!d){return Promise.resolve();}return Promise.resolve({response:undefined,status:'nocontent'});};a.prototype.send=function(U,m,d,o){return new Promise(function(r,c){b(U,m,d,o,r,c);h(U,m,d,o,r,c);});};function h(U,m,d,o,r){if(U.match(/^\/sap\/bc\/lrep\/actions\/make_changes_transportable\//)&&m==='POST'){r();}}function b(U,m,d,o,r,c){if(U.match(/^\/sap\/bc\/lrep\/actions\/gettransports\//)){r({response:{"transports":[{"transportId":"U31K008488","description":"The Ultimate Transport","owner":"Fantasy Owner","locked":false}],"localonly":false,"errorCode":""}});}}a.enableFakeConnector=function(I){C._entries={};if(a.enableFakeConnector.original){return;}a.enableFakeConnector.original=L.createConnector;L.createConnector=function(){if(!i){i=new a(I);}return i;};};a.disableFakeConnector=function(){if(a.enableFakeConnector.original){L.createConnector=a.enableFakeConnector.original;}};return a;},true);
