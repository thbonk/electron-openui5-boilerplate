/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global','sap/ui/base/ManagedObject','sap/ui/dt/test/ElementEnablementTest2'],function(q,M,E){"use strict";var L=M.extend("sap.ui.dt.test.LibraryEnablementTest2",{});L.prototype._fillElementArray=function(t){var e={};if(["sap.ui.richtexteditor.RichTextEditor","sap.ui.ux3.QuickView","sap.uiext.inbox.SubstitutionRulesManager","sap.ui.codeeditor.CodeEditor"].indexOf(t)===-1){e.type=t;this.aElementEnablementTest.push(new E(e));}};L.prototype.run=function(l){this._aResult=[];this.aElementEnablementTest=[];var a=[];this._aControlsCollection=[];if(l.length===0){var v=sap.ui.getVersionInfo();v.libraries.forEach(function(b){if(b.name.indexOf("sap.ui.server")===-1&&b.name.indexOf("themelib_")===-1&&b.name.indexOf("sap.ui.dev")===-1&&b.name!=="sap.ui.core"&&b.name!=="sap.ui.fl"){sap.ui.getCore().loadLibrary(b.name);}});}else{l.forEach(function(d){sap.ui.getCore().loadLibrary(d);});}var o=sap.ui.getCore().getLoadedLibraries();for(var s in o){if(l.length>0&&l.indexOf(s)===-1){continue;}var b=sap.ui.getCore().getLoadedLibraries()[s];if(b&&s!=="sap.ui.core"){var a=b.controls;var c=b.elements;var A=a.concat(c).sort();A.forEach(this._fillElementArray,this);}}var r=[];var i=function(R){if(R&&R.actions){r.push(R);}var e=this.aElementEnablementTest.shift();if(e){return e.run().then(function(R){e.destroy();return i(R);});}else{return Promise.resolve(r);}}.bind(this);return i().then(function(r){var R={results:[]};r.forEach(function(e){R.results.push(e);});return R;});};return L;},true);
