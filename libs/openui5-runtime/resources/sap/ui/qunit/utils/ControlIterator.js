/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global','sap/ui/core/Core','sap/ui/base/Object','sap/ui/core/Control'],function(q,C,B,a){"use strict";var b={};b._aControlsThatCannotBeRenderedGenerically=["sap.ui.comp.smartform.Group","sap.ui.comp.smartform.GroupElement","sap.ui.core.UIComponent","sap.ui.core.mvc.HTMLView","sap.ui.core.mvc.JSONView","sap.ui.core.mvc.JSView","sap.ui.core.mvc.XMLView","sap.ui.core.mvc.TemplateView","sap.ui.core.mvc.View","sap.ui.core.tmpl.Template","sap.m.FacetFilterItem","sap.m.TabStripSelect","sap.m.LightBox","sap.m.Menu","sap.m.NotificationListItem","sap.m.NotificationListBase","sap.m.P13nColumnsItem","sap.m.P13nDimMeasureItem","sap.m.QuickViewBase","sap.m.QuickViewGroup","sap.m.QuickViewGroupElement","sap.m.TabStripItem","sap.m.TimePickerSlider","sap.m.TimePickerSliders","sap.m.UploadCollectionToolbarPlaceholder","sap.m.Wizard","sap.tnt.NavigationList","sap.ui.demokit.IndexLayout._Tile","sap.ui.layout.BlockLayoutRow","sap.ui.richtexteditor.RichTextEditor","sap.ui.suite.TaskCircle","sap.ui.table.ColumnMenu","sap.ui.unified.Menu","sap.ui.ux3.ActionBar","sap.ui.ux3.ExactList.LB","sap.ui.ux3.NotificationBar","sap.ui.rta.ContextMenu","sap.ui.rta.AddElementsDialog","sap.ui.comp.navpopover.SmartLink","sap.ui.comp.navpopover.SemanticObjectController","sap.ui.comp.valuehelpdialog.ValueHelpDialog","sap.chart.Chart","sap.makit.Chart","sap.me.TabContainer","sap.suite.ui.microchart.InteractiveBarChart","sap.suite.ui.microchart.InteractiveDonutChart","sap.uxap.AnchorBar","sap.uxap.BlockBase","sap.uxap.BreadCrumbs","sap.uxap.ObjectPageHeader","sap.uxap.ObjectPageSubSection","sap.uiext.inbox.SubstitutionRulesManager","sap.uiext.inbox.composite.InboxTaskTitleControl","sap.uiext.inbox.InboxFormattedTextView","sap.uiext.inbox.InboxToggleTextView","sap.uiext.inbox.InboxTaskDetails","sap.viz.ui5.controls.common.BaseControl","sap.viz.ui5.core.BaseChart","sap.viz.ui5.controls.VizTooltip"];b.controlCanBeRendered=function(e){if(!b.controlCanBeInstantiated(e)){return false;}if(b._aControlsThatCannotBeRenderedGenerically.indexOf(e)>-1){return false;}return true;};b.controlCanBeInstantiated=function(e){if(["sap.ui.codeeditor.CodeEditor","sap.ui.demokit.IndexLayout._Tile","sap.ui.commons.SearchField","sap.ui.commons.SearchField.CB","sap.ui.commons.SearchFieldCB","sap.ui.commons.Tab","sap.ui.comp.transport.TransportDialog","sap.ui.core.ComponentContainer","sap.ui.core.FragmentControl","sap.ui.core.mvc.View","sap.ui.core.mvc.XMLView","sap.ui.core.mvc.JSView","sap.ui.core.mvc.JSONView","sap.ui.core.mvc.HTMLView","sap.ui.core.mvc.TemplateView","sap.makit.Chart","sap.ui.rta.AddElementsDialog","sap.ui.rta.ContextMenu"].indexOf(e)>-1){return false;}var o=q.sap.getObject(e);if(!o){return false;}var m=o.getMetadata();if(m.isAbstract()){return false;}return true;};var k=["sap.ui.core","sap.chart","sap.f","sap.m","sap.makit","sap.me","sap.ndc","sap.suite.ui.microchart","sap.tnt","sap.ui.codeeditor","sap.ui.commons","sap.ui.comp","sap.ui.dt","sap.ui.fl","sap.ui.generic.app","sap.ui.generic.template","sap.ui.layout","sap.ui.mdc","sap.ui.richtexteditor","sap.ui.rta","sap.ui.suite","sap.ui.table","sap.ui.unified","sap.ui.ux3","sap.uxap","sap.viz"];var c=function(l){if(k.indexOf(l)>-1){return true;}else{return false;}};function g(E,I){var l=sap.ui.getCore().getLoadedLibraries(),h,n,o,i;o=sap.ui.getVersionInfo();for(i=0;i<o.libraries.length;i++){h=o.libraries[i].name;if(q.inArray(h,E)===-1&&!l[h]){q.sap.log.info("Libary '"+h+"' is not loaded!");try{sap.ui.getCore().loadLibrary(h);n=true;}catch(e){}}}if(n){l=sap.ui.getCore().getLoadedLibraries();}E.forEach(function(j){l[j]=undefined;});if(!I){for(var L in l){if(!c(L)){l[L]=undefined;}}}return l;}function d(l){var L=sap.ui.getCore().getLoadedLibraries(),n,i;for(i=0;i<l.length;i++){if(!L[l[i]]){sap.ui.getCore().loadLibrary(l[i]);n=true;}}if(n){L=sap.ui.getCore().getLoadedLibraries();}for(var e in L){if(l.indexOf(e)===-1){L[e]=undefined;}}return L;}var f=function(l,e,i,Q){var L=l?d(l):g(e,i);Q.test("Should load at least one library and some controls",function(h){h.expect(2);var j=false;for(var m in L){if(L[m]){if(!j){h.ok(L[m],"Should have loaded at least one library");j=true;}var n=L[m].controls?L[m].controls.length:0;if(n>0){h.ok(n>0,"Should find at least 10 controls in a library");break;}}}});return L;};var s=function(e,E,i,I){if(!e){return false;}if(E.indexOf(e)>-1){return false;}if(!i&&!b.controlCanBeRendered(e)){return false;}if(!I&&!b.controlCanBeInstantiated(e)){return false;}return true;};var t=function(l,e,E,I,h,j){var m=0,o;for(var i=0;i<e.length;i++){var n=e[i];if(s(n,E,I,h)){m++;o=q.sap.getObject(n);j(n,o,{canInstantiate:b.controlCanBeInstantiated(n),canRender:b.controlCanBeRendered(n)});}}return m;};b.run=function(e,o){window.setTimeout(function(){_(e,o);},1);};function _(e,o){if(!o){o={};}var D=o.done||function(){};var l=o.librariesToTest||undefined;var E=o.excludedLibraries||[];var h=o.excludedControls||[];var i=(o.includeDistLayer!==undefined)?o.includeDistLayer:false;var I=(o.includeElements!==undefined)?o.includeElements:false;var j=(o.includeNonRenderable!==undefined)?o.includeNonRenderable:true;var m=(o.includeNonInstantiable!==undefined)?o.includeNonInstantiable:false;var Q=o.qunit;if(Q){Q.test("Checking the given QUnit object",function(p){p.ok(true,"The given QUnit should be able to assert");});}else{var n=function(){};var p={ok:function(y,T){if(!y){throw new Error(T);}},expect:n};Q={module:n,test:function(y,e){e(p);}};}Q.test("Checking the given options",function(p){p.ok(o.librariesToTest===undefined||q.isArray(o.librariesToTest),"The given librariesToTest must be undefined or an array, but is: "+o.librariesToTest);p.ok(o.excludedLibraries===undefined||q.isArray(o.excludedLibraries),"The given excludedLibraries must be undefined or an array, but is: "+o.excludedLibraries);p.ok(o.excludedControls===undefined||q.isArray(o.excludedControls),"The given excludedControls must be undefined or an array, but is: "+o.excludedControls);p.ok(o.includeDistLayer===undefined||typeof o.includeDistLayer==="boolean","The given includeDistLayer must be undefined or a boolean, but is: "+o.includeDistLayer);p.ok(o.includeElements===undefined||typeof o.includeElements==="boolean","The given includeElements must be undefined or a boolean, but is: "+o.includeElements);p.ok(o.includeNonRenderable===undefined||typeof o.includeNonRenderable==="boolean","The given includeNonRenderable must be undefined or a boolean, but is: "+o.includeNonRenderable);p.ok(o.includeNonInstantiable===undefined||typeof o.includeNonInstantiable==="boolean","The given includeNonInstantiable must be undefined or a boolean, but is: "+o.includeNonInstantiable);p.ok(D===undefined||typeof D==="function","The given done callback must be undefined or a function, but is: "+D);});var L=f(l,E,i,Q);var r=0,u=0;for(var v in L){var w=L[v];if(!w){continue;}var x=w.controls;if(I){x=x.concat(w.elements.slice());}r+=t(v,x,h,j,m,e);u++;}D({testedControlCount:r,testedLibraryCount:u});}return b;},true);
