/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/layout/cssgrid/GridLayoutBase","sap/ui/Device"],function(G,D){"use strict";var a=G.extend("sap.ui.layout.cssgrid.GridResponsiveLayout",{metadata:{library:"sap.ui.layout",aggregations:{layout:{type:"sap.ui.layout.cssgrid.GridSettings",multiple:false},layoutS:{type:"sap.ui.layout.cssgrid.GridSettings",multiple:false},layoutM:{type:"sap.ui.layout.cssgrid.GridSettings",multiple:false},layoutL:{type:"sap.ui.layout.cssgrid.GridSettings",multiple:false},layoutXL:{type:"sap.ui.layout.cssgrid.GridSettings",multiple:false}},events:{layoutChange:{parameters:{layout:{type:"string"}}}}}});a.prototype.init=function(){this._sActiveLayout="layout";};a.prototype.getActiveGridSettings=function(){return this.getAggregation(this._sActiveLayout);};a.prototype.isResponsive=function(){return true;};a.prototype.onGridAfterRendering=function(g){this.setActiveLayout(g,false);};a.prototype.onGridResize=function(e){if(!e||e.size.width===0){return;}this.setActiveLayout(e.control,true);};a.prototype.applySizeClass=function($,s){var c;if($.hasClass(s)){return;}c=Object.keys(a.mSizeClasses).map(function(S){return a.mSizeClasses[S];});$.removeClass(c.join(" "));$.addClass(s);};a.prototype.setActiveLayout=function(g,t){var r=D.media.getCurrentRange("StdExt",g.$().width()),l=a.mSizeLayouts[r.name],L=this._getLayoutToApply(l);this.applySizeClass(g.$(),a.mSizeClasses[r.name]);if(this._sActiveLayout===L){return;}this._sActiveLayout=L;if(t){this.fireLayoutChange({layout:L});}};a.prototype._getLayoutToApply=function(l){if(this.getAggregation(l)){return l;}else{return"layout";}};a.mSizeClasses={"Phone":"sapUiLayoutCSSGridS","Tablet":"sapUiLayoutCSSGridM","Desktop":"sapUiLayoutCSSGridL","LargeDesktop":"sapUiLayoutCSSGridXL"};a.mSizeLayouts={"Phone":"layoutS","Tablet":"layoutM","Desktop":"layoutL","LargeDesktop":"layoutXL"};return a;});
