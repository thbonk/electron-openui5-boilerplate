/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global','sap/ui/unified/calendar/CalendarUtils','sap/ui/core/date/UniversalDate','./library','sap/ui/unified/CalendarDateInterval','sap/ui/unified/CalendarDateIntervalRenderer'],function(q,C,U,l,a,b){"use strict";var c=a.extend("CalendarWeekInterval",{renderer:b});c.prototype._getDaysLarge=function(){return 6;};c.prototype._handleFocus=function(e){var o=!!e.getParameter("_outsideBorder"),d,f,D;if(o){d=e.getParameter("date");this._oFocusDateWeek=C._createUniversalUTCDate(d);f=new U(C.getFirstDateOfWeek(this._oFocusDateWeek).getTime());D=this.getAggregation("month")[0];if(D.getDomRef()){this._setStartDate(f,false,true);}}return a.prototype._handleFocus.apply(this,arguments);};c.prototype._adjustFocusedDateUponMonthChange=function(f,i){var n=new U(f.getTime()),I;n.setDate(1);n.setMonth(n.getMonth()+1);I=this._oPlanningCalendar._dateMatchesVisibleRange(n,sap.ui.unified.CalendarIntervalType.Week);if(I&&i===n.getMonth()){return;}f.setUTCMonth(i);f.setUTCDate(1);var F=new U(C.getFirstDateOfWeek(f).getTime());this._setStartDate(F,false,true);this._oFocusDateWeek=F;f.getJSDate().setTime(F.getTime());};c.prototype._adjustFocusedDateUponYearChange=function(f,i){if(!(f&&f instanceof U)){return;}var w=U.getWeekByDate(f.getCalendarType(),f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),t=new U(f.getTime()),n;t.setFullYear(i);t.setDate(t.getDate()-7);n=U.getWeekByDate(t.getCalendarType(),t.getFullYear(),t.getMonth(),t.getDate());if(w.week===52&&C._getNumberOfWeeksForYear(i)<53){w.week=51;}while(w.week!==n.week){t.setDate(t.getDate()+1);n=U.getWeekByDate(t.getCalendarType(),t.getFullYear(),t.getMonth(),t.getDate());}f.getJSDate().setTime(t.getJSDate().getTime());};c.prototype._focusDateExtend=function(d,o,n){var D,L;if(!this._oFocusDateWeek){return a.prototype._focusDateExtend.apply(this,arguments);}D=this.getAggregation("month")[0];L=C._createLocalDate(this._oFocusDateWeek);this._setFocusedDate(this._oFocusDateWeek);D.setDate(L);this._oFocusDateWeek=null;return!n;};c.prototype._dateMatchesVisibleRange=function(d){var i=this.getDays(),u=C._createUniversalUTCDate(d),o=C._createUniversalUTCDate(this.getStartDate()),e=C._createUniversalUTCDate(this.getStartDate());e.setUTCDate(e.getUTCDate()+i);return u.getTime()>=o&&u.getTime()<e;};return c;},true);
