/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global','sap/ui/core/ElementMetadata','sap/ui/core/XMLTemplateProcessor'],function(q,E,X){"use strict";var I={Render:true,Template:"template",None:false};var a=function(c,C){if(!C.hasOwnProperty("renderer")){C.renderer="sap.ui.core.XMLCompositeRenderer";}if(!C.hasOwnProperty("alias")){C.alias="this";}E.apply(this,arguments);var b=this._bAbstract;if(!b){if(!C.fragment&&c!=="sap.ui.core.XMLComposite"){C.fragment=c;C.fragmentUnspecified=true;}if(!this._fragment&&C.fragment){try{this._fragment=X.loadTemplate(C.fragment,"control");}catch(e){if(!C.fragmentUnspecified){throw(e);}else{q.sap.log.warning("Implicitly inferred fragment xml "+C.fragment+" not found. "+c+" is not abstract!");}}}}this._sCompositeAggregation=C.metadata?C.metadata.compositeAggregation||null:null;this._createPrivateAggregationAccessors();this._applyAggregationSettings();};a.prototype=Object.create(E.prototype);a.uid=E.uid;a.prototype.getCompositeAggregationName=function(){return this._sCompositeAggregation||"_content";};a.prototype.getFragment=function(){if(this._fragment){return this._fragment.cloneNode(true);}};a.prototype._applyAggregationSettings=function(){var A=this.getAllAggregations();for(var n in A){if(A[n].type==="TemplateMetadataContext"){this.getAggregation(n)._doesNotRequireFactory=true;}}};a.prototype._createPrivateAggregationAccessors=function(){var p=this.getAllPrivateAggregations(),b=this.getClass().prototype,g=function(c,f){if(!b[c]){b[c]=f;}};for(var n in p){p[n].generate(g);}};a.prototype._suppressInvalidate=function(m,s){if(s){return true;}if(!m.appData){m.appData={};m.appData.invalidate=I.None;}if(m&&m.appData&&m.appData.invalidate===I.Render){return false;}return true;};a.prototype._requestFragmentRetemplatingCheck=function(c,m,f){if(!c._bIsInitializing&&m&&m.appData&&m.appData.invalidate===I.Template&&!c._requestFragmentRetemplatingPending){if(c.requestFragmentRetemplating){c._requestFragmentRetemplatingPending=true;setTimeout(function(){c.requestFragmentRetemplating(f);c._requestFragmentRetemplatingPending=false;},0);}else{throw new Error("Function requestFragmentRetemplating not available although invalidationMode was set to template");}}};a.prototype.getMandatoryAggregations=function(){if(!this._mMandatoryAggregations){var A=this.getAllAggregations(),m={};for(var n in A){if(A[n].type==="TemplateMetadataContext"&&A[n].appData.mandatory){m[n]=A[n];}}this._mMandatoryAggregations=m;}return this._mMandatoryAggregations;};return a;},true);
