/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(["sap/ui/thirdparty/jquery",'sap/ui/core/Icon',"sap/ui/ux3/library"],function(q,I,l){"use strict";var N=l.NotificationBarStatus;var a;var b={};b.render=function(o,i){a=a||sap.ui.require("sap/ui/ux3/NotificationBar");w(o,i);W(o,i);e(o,i);};var w=function(o,i){o.write("<div");o.writeControlData(i);if(i.getVisibleStatus()===N.None){if(i.$().length>0){if(i._resizeFrom){i.$().stop().animate({height:0},"fast",function(){i.$().css("display","none");o.addStyle("display","none");o.writeAttribute("aria-hidden","true");});}else{o.addStyle("display","none");o.writeAttribute("aria-hidden","true");}}else{o.addStyle("display","none");o.writeAttribute("aria-hidden","true");}}else{o.writeAttribute("aria-hidden","false");o.addStyle("display","block");}o.writeStyles();o.addClass("sapUiNotificationBar");if(i._resizeTo){if(i._resizeFrom==N.Max){if(i._resizeTo==N.Default){o.addClass("sapUiNotificationBarMaximized");}}}o.writeClasses();o.write(">");f(o,i);};var r=function(o,i){var s=i.getVisibleStatus();if(s!=="None"){var n=i.getId()+"-toggler";o.write("<div");o.writeAttribute("id",n);o.addClass("sapUiBarToggle");if(s!=="Min"){o.addClass("sapUiBarToggleWide");}o.writeClasses();if(i.getAlwaysShowToggler()){o.addStyle("display","block");o.writeStyles();}o.write(">");R(o,i,"ArrowUp");R(o,i,"ArrowDown");R(o,i,"BarUp");R(o,i,"BarDown");o.write("</div>");}else{o.addStyle("display","none");o.writeStyles();}};var R=function(o,i,s){o.write("<div");var n=i.getId()+"-"+s;o.writeAttribute("id",n);var S=i.getVisibleStatus();var H=true;var t="";switch(s){case"ArrowUp":if(S==="Default"){H=false;}t=i._oResBundle.getText("NOTIBAR_TITLE_ENLARGE");break;case"ArrowDown":if(S==="Max"){H=false;}t=i._oResBundle.getText("NOTIBAR_TITLE_MINIMIZE");break;case"BarUp":if(S==="Min"){H=false;}t=i._oResBundle.getText("NOTIBAR_TITLE_BAR_UP");break;case"BarDown":if(S==="Max"||S==="Default"){H=false;}t=i._oResBundle.getText("NOTIBAR_TITLE_BAR_DOWN");break;}o.writeAttributeEscaped("title",t);if(H){o.addClass("sapUiBarToggleHide");}o.addClass("sapUiBarToggle"+s);o.addClass("sapUiBarToggleItem");o.writeClasses();o.write(">");o.write("</div>");};var f=function(o,i){o.write("<div");var s=i.getId()+"-hoverItem";o.writeAttribute("id",""+s);var S=i.getVisibleStatus();if(S==="Min"){o.addStyle("top","-"+a.HOVER_ITEM_HEIGHT+"px");o.addStyle("display","block");}else{o.addStyle("display","none");}if(i.getDomRef()){var $=q(i.getDomRef());var n=$.width()+"px";o.addStyle("width",n);}o.writeStyles();o.addClass("sapUiNotiHover");o.writeClasses();o.write(">");o.write("</div>");};var W=function(o,i){if(i.getResizeEnabled()){r(o,i);}if(i.hasItems()){if(i.getVisibleStatus()==N.Max){c(o,i);}else{d(o,i);}}};var c=function(o,n){var p=n.getNotifiers();var M=n.getMessageNotifier();var s="";o.write("<div");o.writeAttribute("id",n.getId()+"-containers");o.addClass("sapUiNotifierContainers");o.writeClasses();o.write(">");if(M&&M.hasItems()){M.destroyAggregation("views",true);s=M.getId()+"-messageNotifierView";var t=C(s,M);M.addAggregation("views",t,true);o.renderControl(t);}if(p.length>0){for(var i=0;i<p.length;i++){if(p[i].hasItems()){p[i].destroyAggregation("views",true);s=p[i].getId()+"-notifierView";var v=C(s,p[i]);p[i].addAggregation("views",v,true);o.renderControl(v);}}}o.write("</div");};var d=function(o,n){var p=n.getNotifiers();var M=n.getMessageNotifier();o.write("<ul");o.writeAttribute("id",n.getId()+"-notifiers");o.addClass("sapUiNotifiers");o.writeClasses();o.write(">");var s=false;for(var i=0;i<p.length;i++){if(p[i].hasItems()){s=true;break;}}var t=(M&&M.hasItems())?true:false;if(s){h(o,p);}if(s&&t){o.write("<li");o.addClass("sapUiNotifierSeparator");o.writeClasses();o.write(">");o.write("&nbsp;");o.write("</li>");}if(t){k(o,M,n);}o.write("</ul>");};var e=function(o,i){o.write("</div>");};var g=function(o,n,M){var i=n.getId();o.write("<li");o.writeElementData(n);o.addClass("sapUiNotifier");o.writeClasses();o.writeAttribute("tabindex","-1");o.writeAttribute("aria-describedby",i+'-description>');o.write(">");j(o,n.getIcon(),M);o.write('<div id="'+i+'-description"');o.addStyle("display","none");o.writeStyles();o.write(">");o.write("</div>");var p=n.getMessages().length;if(p>0){o.write('<div id="'+i+'-counter" role="tooltip"');o.addClass("sapUiNotifierMessageCount");if(M){o.addClass("sapUiMessage");}o.writeClasses();o.write(">");if(p>99){p=">99";}o.write(p);o.write("</div>");}o.write("</li>");};var C=function(s,n){var o=new a.NotifierView(s,{title:n.getTitle(),renderMode:"maximized"});if(n._bEnableMessageSelect){o.addStyleClass("sapUiNotifierSelectable");}var M=n.getMessages();for(var i=0;i<M.length;i++){var p=M[i];var t=new a.MessageView(s+"-messageView-"+p.getId(),{text:p.getText(),timestamp:p.getTimestamp()});t._message=p;t.setIcon(p.getIcon()||p.getDefaultIcon("32x32"));o.addMessage(t);}return o;};var h=function(o,n){for(var i=0;i<n.length;i++){g(o,n[i],false);}};var j=function(o,u,M){if(u==null||u==""){var i=new I({useIconTooltip:false});i.addStyleClass("sapUiNotifierIcon");if(M){i.setSrc("sap-icon://alert");}else{i.setSrc("sap-icon://notification-2");}o.renderControl(i);return;}o.write("<img alt=\"\"");o.addClass("sapUiNotifierIcon");o.writeClasses();o.writeAttributeEscaped("src",u);o.write("/>");};var k=function(o,n,i){g(o,n,true);m(o,n,i);};var m=function(o,M,n){if(M.hasItems()){var i=M.getMessages();var p=i[i.length-1];var s=M._oMessageArea;s._message=p;var t=n.getId()+"-inplaceMessage-"+s._message.getId();o.write("<li");o.writeAttribute("id",t);o.addClass("sapUiInPlaceMessage");o.writeClasses();if(n._gapMessageArea){var u=n._gapMessageArea+"px";o.addStyle("margin-left",u);o.writeStyles();}o.write(">");if(p.getText()!=""){o.write("<div");o.writeControlData(s);o.writeAttribute("tabindex","-1");o.addClass("sapUiNotifierMessageText");o.addClass("sapUiInPlaceMessage");if(M._bEnableMessageSelect&&!s._message.getReadOnly()){o.addClass("sapUiInPlaceMessageSelectable");}o.writeClasses();o.write(">");o.writeEscaped(p.getText());o.write("</div>");}if(p.getTimestamp()!=""){o.write("<div");o.addClass("sapUiNotifierMessageTimestamp");o.addClass("sapUiInPlaceMessage");o.writeClasses();o.write(">");o.writeEscaped(p.getTimestamp());o.write("</div>");}o.write("</li>");}};return b;},true);
