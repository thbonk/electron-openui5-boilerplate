/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2018 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['sap/ui/core/IconPool','sap/ui/core/theming/Parameters','sap/base/security/encodeXML'],function(I,P,e){"use strict";var S;var a={};a.render=function(r,c){S=S||sap.ui.require("sap/ui/ux3/Shell");var p=c.isPaneOpen();var b=c.getPaneWidth()+S.SIDE_BAR_BASE_WIDTH;var R=sap.ui.getCore().getConfiguration().getRTL();var s=c.getId();if(S.FIRST_RENDERING){document.body.style.margin="0";}r.write("<div");r.writeControlData(c);r.addClass("sapUiUx3Shell");r.addClass("sapUiUx3ShellHead"+c.getHeaderType());r.addClass("sapUiUx3ShellDesign"+c.getDesignType());if(!c._hasDarkDesign()){r.addClass("sapUiUx3ShellDesignLight");}if(c.getFullHeightContent()){r.addClass("sapUiUx3ShellFullHeightContent");}if(!c.getApplyContentPadding()){r.addClass("sapUiUx3ShellNoContentPadding");}if(!c.getShowTools()){r.addClass("sapUiUx3ShellNoTools");}if(!c.getShowPane()){r.addClass("sapUiUx3ShellNoPane");}if(c._topSyncRefId&&!c.getAllowOverlayHeaderAccess()){r.addClass("sapUiUx3ShellBlockHeaderAccess");}r.writeClasses();r.write(">");r.write("<img id='"+s+"-hdrImg' class='sapUiUx3ShellHeaderImg' src='");var d=P._getThemeImage('sapUiUx3ShellHeaderImageURL',true);r.writeEscaped(d);r.write("' />");r.write("<header id='"+s+"-hdr' class='sapUiUx3ShellHeader' role='banner'>");var t=c._topSyncRefId?" tabindex='0'":"";r.write("<span class='sapUiUx3ShellFocusDummy' id='"+s+"-focusDummyHdrStart'"+t+"></span>");a.renderHeader(r,c);r.write("<span class='sapUiUx3ShellFocusDummy' id='"+s+"-focusDummyHdrEnd'"+t+"></span>");r.write("</header>");r.write("<div id='",s,"-bg' class='sapUiUx3ShellBg'></div>");r.write("<img id='",s,"-bgImg' class='sapUiUx3ShellBgImg' src='");d=P._getThemeImage('sapUiUx3ShellBackgroundImageURL',true);r.writeEscaped(d);r.write("'/>");var w=p?" style='margin-"+(R?"left":"right")+":"+(b+22)+"px'":"";r.write("<div id='",s,"-wBar'"+w+" class='sapUiUx3ShellWorksetBar'>");a.renderWorksetItems(r,c);r.write("</div>");r.write("<section id='"+s+"-tp' class='sapUiUx3ShellToolPaletteArea' role='complementary' data-sap-ui-fastnavgroup='true'>");a.renderToolPalette(r,c);r.write("</section>");var f=p?" style='"+(R?"left":"right")+":"+b+"px'":"";r.write("<div class='sapUiUx3ShellCanvas'"+f+" id='"+s+"-canvas'>");a.renderFacetBar(r,c);r.write("<article class='sapUiUx3ShellContent' id='"+s+"-content' role='main' data-sap-ui-fastnavgroup='true'>");var C=c.getContent();for(var i=0;i<C.length;i++){r.renderControl(C[i]);}r.write("</article><div class='sapUiUx3ShellNotifySpace'></div></div>");var t=c._topSyncRefId?" tabindex='0'":"";r.write("<span class='sapUiUx3ShellFocusDummy' id='"+s+"-focusDummyPane'"+t+"></span>");r.write("<aside id='"+s+"-paneBar' class='sapUiUx3ShellPaneBar "+(p?" sapUiUx3ShellPaneBarOpen sapUiUx3ShellPaneBarOpened":" sapUiUx3ShellPaneBarClose")+"' role='complementary' style='width:"+b+"px;'>");r.write("<section id='"+s+"-paneContent' style='width:"+c.getPaneWidth()+"px;' class='sapUiUx3ShellPaneBarContent' role='tabpanel'>");var g=c.getPaneContent();for(var i=0;i<g.length;i++){r.renderControl(g[i]);}r.write("</section>");r.write("<div id='"+s+"-paneBarRight' class='sapUiUx3ShellPaneBarRight' data-sap-ui-fastnavgroup='true'>");r.write("<ul id='"+s+"-paneBarEntries' class='sapUiUx3ShellPaneEntries' role='tablist'>");a.renderPaneBarItems(r,c);r.write("</ul>");r.write("<div id='"+s+"-paneBarOverflowButton' class='sapUiUx3ShellPaneOverflowButton'");r.addStyle("display","none;");r.writeStyles();r.write(">");r.write("<div id='"+s+"-paneBarOverflowWrapper' class='sapUiUx3ShellPaneOverflowWrapper'>");r.write("<span id='"+s+"-paneBarOverflowText' class='sapUiUx3ShellPaneOverflowText sapUiUx3ShellPaneEntry'>");r.write(sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3").getText("SHELL_MORE_BUTTON"));r.write("</span>");r.write("</div>");r.write("</div>");r.write("</div>");r.write("</aside>");r.write("<div class='sapUiUx3ShellCanvasBackground "+(p?"sapUiUx3ShellCanvasBackgroundOpen":"sapUiUx3ShellCanvasBackgroundClosed")+"' id='"+s+"-canvasBackground'"+f+">");r.write("<div class='sapUiUx3ShellCanvasBackgroundRight'></div>");r.write("</div>");r.write("<div id='"+s+"-notify' class='sapUiUx3ShellNotify'>");a.renderNotificationArea(r,c);r.write("</div>");r.write("</div>");};a.renderHeader=function(r,c){var b=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");var d=c.getAppIcon();r.write("<hr id='"+c.getId()+"-hdrLine'/>");r.write("<span id='"+c.getId()+"-hdr-items' class='sapUiUx3ShellHeaderTitleRight'>");var h=c.getHeaderItems();for(var i=0;i<h.length;i++){if(h[i]instanceof sap.ui.commons.MenuButton){if(h[i].getMenu()){h[i].getMenu().addStyleClass("sapUiMnuTop",true);}}r.renderControl(h[i]);if((i<(h.length-1))||(c.getShowLogoutButton())){r.write("<span class='sapUiUx3ShellHeaderSep'></span>");}}if(c.getShowLogoutButton()){r.write("<a id='"+c.getId()+"-logout' title='");r.write(c.getLogoutButtonTooltip()?e(c.getLogoutButtonTooltip()):b.getText("SHELL_LOGOUT"));r.write("' tabindex='0' role='button' class='sapUiUx3ShellHeaderButton sapUiUx3ShellHeader-logout'></a>");}r.write("</span>");r.write("<span class='sapUiUx3ShellHeaderTitleLeft' ");r.writeAttributeEscaped("title",c.getAppTitle());r.write(">");r.write("<img id='"+c.getId()+"-logoImg' src='");if(d){r.writeEscaped(c.getAppIcon());}else{var s=P._getThemeImage('sapUiUx3ShellApplicationImageURL',true);r.writeEscaped(s);}r.write("'");var f=c.getAppIconTooltip()||b.getText("SHELL_LOGO");r.writeAttributeEscaped("alt",f);r.writeAttributeEscaped("title",f);r.write(">");r.write("<span>");r.writeEscaped(c.getAppTitle());r.write("</span>");r.write("</span>");};a.renderToolPalette=function(r,c){var b=sap.ui.getCore().getLibraryResourceBundle("sap.ui.ux3");var s=c.getId();var t=c._topSyncRefId?" tabindex='0'":"";r.write("<span class='sapUiUx3ShellFocusDummy' id='"+c.getId()+"-focusDummyTPStart'"+t+"></span>");var A=b.getText("SHELL_TOOLPANE_GENERIC"),d=false,f=true,g="";if(c.getShowSearchTool()){d=true;g+="<a id='"+s+S.TOOL_PREFIX+s+"-searchTool' title='"+b.getText("SHELL_SEARCH")+"' class='sapUiUx3ShellTool sapUiUx3ShellTool-search' tabindex='0' role='button' aria-pressed='false'></a>";if(f){f=false;}else{A+=",";}A+=" "+b.getText("SHELL_SEARCH");}if(c.getShowFeederTool()){d=true;g+="<a id='"+s+S.TOOL_PREFIX+s+"-feederTool' title='"+b.getText("SHELL_FEEDER")+"' class='sapUiUx3ShellTool sapUiUx3ShellTool-feeder' tabindex='0' role='button' aria-pressed='false'></a>";if(f){f=false;}else{A+=",";}A+=" "+b.getText("SHELL_FEEDER");}if(d){r.write("<div role='toolbar'aria-describedby='"+s+"-genericToolsDescr'>");r.write("<span id='"+s+"-genericToolsDescr' style='display:none;'>"+A+"</span>");r.write(g+"</div>");}var T=c.getToolPopups();if(d&&(T.length>0)){r.write("<hr id='"+s+"-tp-separator' class='sapUiUx3ShellToolSep'/>");}if(T.length>0){r.write("<div role='toolbar' aria-describedby='"+s+"-appToolsDescr'>");r.write("<span id='"+s+"-appToolsDescr' style='display:none;'>"+b.getText("SHELL_TOOLPANE_APP")+"</span>");for(var i=0;i<T.length;i++){var o=T[i];if(o instanceof sap.ui.core.SeparatorItem){r.write("<hr class='sapUiUx3ShellToolSep'/>");}else{r.write("<a id='"+s+"-tool-"+o.getId()+"' class='sapUiUx3ShellTool'");var h=o.getTooltip_AsString();if(!h){h=o.getTitle();}if(h){r.write(" title='");r.writeEscaped(h);r.write("' ");}r.write(" tabindex='0' role='button' aria-pressed='false'>");var j=o.getIcon();if(I.isIconURI(j)){r.writeIcon(j,["sapUiUx3ShellToolFontIcon"],{"title":null,"aria-label":null});}else{r.write("<img src='");r.writeEscaped(j);r.write("' alt='' role='presentation'/>");}r.write("</a>");}}r.write("</div>");}r.write("<span class='sapUiUx3ShellFocusDummy' id='"+c.getId()+"-focusDummyTPEnd'"+t+"></span>");};a.renderPaneBarItems=function(r,c){var s=c.getId();var p=c.getPaneBarItems();var n=p.length;for(var i=0;i<n;i++){var b=p[i];var d=b.getId();r.write("<li");r.writeElementData(b);r.write(" role='tab' aria-controls='"+s+"-paneContent' aria-setsize='"+n+"' aria-posinset='"+(i+1)+"' tabindex='-1' class='sapUiUx3ShellPaneEntry");if(c._sOpenPaneId===d){r.write(" sapUiUx3ShellPaneEntrySelected");}r.write("'");if(b.getTooltip_AsString()){r.writeAttributeEscaped("title",b.getTooltip_AsString());}r.write(">");r.writeEscaped(b.getText().toUpperCase());r.write("</li>");}};a.renderNotificationArea=function(r,c){r.write("<div class='sapUiUx3ShellNotifyBG'></div>");if(c.getNotificationBar()){r.renderControl(c.getNotificationBar());}};a.renderWorksetItems=function(r,c){var i=c.getWorksetItems();c._oWorksetBar.setAssociatedItems(i);if(!c._oWorksetBar.isSelectedItemValid()&&(i.length>0)){c.setAssociation("selectedWorksetItem",i[0],true);c._oWorksetBar.setSelectedItem(i[0]);}if(r){r.renderControl(c._oWorksetBar);}};a.renderFacetBar=function(r,c){var s=sap.ui.getCore().byId(c.getSelectedWorksetItem());if(s){var p=s.getParent();if(p&&p instanceof sap.ui.ux3.NavigationItem){s=p;}var b=s.getSubItems();c._oFacetBar.setAssociatedItems(b);if(!c._oFacetBar.isSelectedItemValid()&&(b.length>0)){c._oFacetBar.setSelectedItem(b[0]);}}if(r){r.renderControl(c._oFacetBar);}};return a;},true);
