/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global','./library','sap/ui/core/Element','./Image','./Text'],function(q,l,E,I,T){"use strict";var L=E.extend("sap.m.LightBoxItem",{metadata:{library:"sap.m",properties:{imageSrc:{type:'sap.ui.core.URI',group:'Appearance',multiple:false,defaultValue:''},alt:{type:'string',group:'Appearance',multiple:false,defaultValue:''},title:{type:'string',group:'Appearance',multiple:false,defaultValue:''},subtitle:{type:'string',group:'Appearance',multiple:false,defaultValue:''}},aggregations:{_image:{type:'sap.m.Image',multiple:false,visibility:'hidden'},_title:{type:'sap.m.Text',multiple:false,visibility:'hidden'},_subtitle:{type:'sap.m.Text',multiple:false,visibility:'hidden'}}}});L.prototype.init=function(){this._createNativeImage();this.setAggregation('_image',new I({decorative:false,densityAware:false}),true);this.setAggregation('_title',new T({wrapping:false}),true);this.setAggregation('_subtitle',new T({wrapping:false}),true);};L.prototype._createNativeImage=function(){var t=this;this._imageState=sap.m.LightBoxLoadingStates.Loading;this._oImage=new window.Image();this._oImage.onload=function(e){if(this.complete&&t._imageState===sap.m.LightBoxLoadingStates.Loading){t._setImageState(sap.m.LightBoxLoadingStates.Loaded);}};this._oImage.onerror=function(e){t._setImageState(sap.m.LightBoxLoadingStates.Error);};};L.prototype.exit=function(){this._oImage=null;};L.prototype._setImageState=function(i){if(i!==this._imageState){this._imageState=i;if(this.getParent()){this.getParent()._imageStateChanged(i);}}};L.prototype._getImageState=function(){return this._imageState;};L.prototype._getNativeImage=function(){return this._oImage;};L.prototype.setImageSrc=function(i){var o=this.getAggregation("_image"),a=this.getParent();if(this.getImageSrc()===i){return this;}this._imageState=sap.m.LightBoxLoadingStates.Loading;if(a&&a._oPopup.getOpenState()===sap.ui.core.OpenState.OPEN){this._oImage.src=i;}this.setProperty("imageSrc",i,false);o.setSrc(i);return this;};L.prototype.setAlt=function(a){var i=this.getAggregation("_image");this.setProperty("alt",a,false);i.setAlt(a);return this;};L.prototype.setTitle=function(t){var o=this.getAggregation("_title");this.setProperty("title",t,false);o.setText(t);return this;};L.prototype.setSubtitle=function(s){var S=this.getAggregation("_subtitle");this.setProperty("subtitle",s,false);S.setText(s);return this;};return L;},true);
