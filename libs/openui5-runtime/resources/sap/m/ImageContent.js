/*!
 * UI development toolkit for HTML5 (OpenUI5)
 * (c) Copyright 2009-2017 SAP SE or an SAP affiliate company.
 * Licensed under the Apache License, Version 2.0 - see LICENSE.txt.
 */
sap.ui.define(['jquery.sap.global','./library','sap/ui/core/Control','sap/m/Image','sap/ui/core/IconPool'],function(q,l,C,I,a){"use strict";var b=C.extend("sap.m.ImageContent",{metadata:{library:"sap.m",properties:{"src":{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},"description":{type:"string",group:"Accessibility",defaultValue:null}},defaultAggregation:"_content",aggregations:{"_content":{type:"sap.ui.core.Control",multiple:false,visibility:"hidden"}},events:{"press":{}}}});b.prototype.onBeforeRendering=function(){var i,u,d;i=this.getAggregation("_content");u=this.getSrc();d=this.getDescription();if(!i||u!==i.getSrc()||d!==i.getAlt()){if(i){i.destroy();i=null;}i=a.createControlByURI({id:this.getId()+"-icon-image",src:u,alt:d,decorative:false},I);this.setAggregation("_content",i,true);this._setPointerOnImage();}if(d){this.setTooltip(d.trim());}};b.prototype._setPointerOnImage=function(){var i=this.getAggregation("_content");if(i&&this.hasListeners("press")){i.addStyleClass("sapMPointer");}else if(i&&i.hasStyleClass("sapMPointer")){i.removeStyleClass("sapMPointer");}};b.prototype.ontap=function(e){if(sap.ui.Device.browser.msie){this.$().focus();}this.firePress();};b.prototype.onkeydown=function(e){if(e.which===q.sap.KeyCodes.ENTER||e.which===q.sap.KeyCodes.SPACE){this.firePress();e.preventDefault();}};b.prototype.attachEvent=function(e,d,f,c){sap.ui.core.Control.prototype.attachEvent.call(this,e,d,f,c);if(this.hasListeners("press")){this.$().attr("tabindex",0).addClass("sapMPointer");this._setPointerOnImage();}return this;};b.prototype.detachEvent=function(e,f,c){sap.ui.core.Control.prototype.detachEvent.call(this,e,f,c);if(!this.hasListeners("press")){this.$().removeAttr("tabindex").removeClass("sapMPointer");this._setPointerOnImage();}return this;};b.prototype.getAltText=function(){var c=this.getAggregation("_content");if(c&&c.getAlt()!==""){return c.getAlt();}else if(c){return c.getAccessibilityInfo().description;}};return b;});
